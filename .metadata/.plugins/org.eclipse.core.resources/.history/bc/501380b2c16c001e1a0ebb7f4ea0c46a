package com.magic.dao.EmployeesDAO;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

import javax.naming.Context;
import javax.naming.InitialContext;
import javax.sql.DataSource;

import com.magic.dto.EmployeesVO.EmployeesVO;

public class EmployeesDAO {
private EmployeesDAO() {
}

private static EmployeesDAO instance = new EmployeesDAO();

public static EmployeesDAO getInstance() {
	return instance;
}
public Connection getConnection() throws Exception {
	Context initContext = new InitialContext();
	Context envContext  = (Context)initContext.lookup("java:/comp/env");
	DataSource ds = (DataSource)envContext.lookup("jdbc/myoracle"); //추가한 리소스 name과 동일
	Connection conn = ds.getConnection();
	return conn;
}

//로그인 회원인지
public int userCheck(String id, String pwd) {
	int result = -1;
	String sql = "select pwd from Employees where id = ?";
	Connection conn = null;
	PreparedStatement ps = null;
	ResultSet rs = null;
	
	try {
		
	} catch (Exception e) {
		e.printStackTrace();
	} finally {
		try {
			if( rs!= null ) rs.close();
			if( ps !=null ) ps.close();
			if( conn !=null ) conn.close();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	return 0;
}
//로그인 하면 유저 정보를 가져와서 회원인지 비회원인지 구별
public EmployeesVO getEmployees(String id) {
	EmployeesVO vo = null;
	return vo;
}
//마이페이지-정보수정
public int updateEmployees(EmployeesVO vo) {
	return 0;
}
//사원등록(관리자만 가능)
public int insertEmployees(EmployeesVO vo) {
	return 0;
}
}
